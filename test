SELECT DISTINCT
    OBJECT_SCHEMA_NAME(d.referenced_id) AS table_schema,
    OBJECT_NAME(d.referenced_id) AS table_name
FROM sys.sql_expression_dependencies d
WHERE d.referencing_id = OBJECT_ID('dbo.YourStoredProcedureName')
  AND d.referenced_id IS NOT NULL;



SELECT DISTINCT
    OBJECT_SCHEMA_NAME(d.referenced_id) AS table_schema,
    OBJECT_NAME(d.referenced_id) AS table_name,
    c.name AS column_name
FROM sys.sql_expression_dependencies d
JOIN sys.columns c
    ON c.object_id = d.referenced_id
WHERE d.referencing_id = OBJECT_ID('dbo.YourStoredProcedureName')
  AND d.referenced_id IS NOT NULL
ORDER BY table_name, column_name;



SELECT DISTINCT
    r.referenced_schema_name AS table_schema,
    r.referenced_entity_name AS table_name,
    r.referenced_minor_name AS column_name
FROM sys.dm_sql_referenced_entities 
(
    'dbo.YourStoredProcedureName',
    'OBJECT'
) r
WHERE r.referenced_class_desc = 'OBJECT_OR_COLUMN'
ORDER BY table_name, column_name;
